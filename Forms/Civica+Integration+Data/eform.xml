<?xml version="1.0" encoding="utf-8"?>
<EForm xmlns="http://ebms.com.au/schema/interchange/1.1">
  <Description>Integration - CIVICA</Description>
  <DataDefinition>
    <MinimumRows>0</MinimumRows>
    <Columns>
      <SystemColumn Which="EFormType" Behaviour="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </SystemColumn>
      <SystemColumn Which="RecordID" Behaviour="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format>
          <Number DecimalPlaces="" Prefix="" Suffix="" ThousandsSeparator="false" ScientificNotation="false" />
        </Format>
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </SystemColumn>
      <SystemColumn Which="LineNumber" Behaviour="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format>
          <Number DecimalPlaces="" Prefix="" Suffix="" ThousandsSeparator="false" ScientificNotation="false" />
        </Format>
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </SystemColumn>
      <SystemColumn Which="DateCreated" Behaviour="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format>
          <DateTime FormatString="dd-MMM-yyyy HH:mm" />
        </Format>
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </SystemColumn>
      <SystemColumn Which="DateLastUpdated" Behaviour="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format>
          <DateTime FormatString="dd-MMM-yyyy" />
        </Format>
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </SystemColumn>
      <SystemColumn Which="DateDue" Behaviour="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format>
          <DateTime FormatString="dd-MMM-yyyy" />
        </Format>
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </SystemColumn>
      <SystemColumn Which="DateClosed" Behaviour="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format>
          <DateTime FormatString="dd-MMM-yyyy" />
        </Format>
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </SystemColumn>
      <SystemColumn Which="Priority" Behaviour="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="0-Unassigned" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </SystemColumn>
      <SystemColumn Which="Status" Behaviour="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="Start" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </SystemColumn>
      <SystemColumn Which="Assignee" Behaviour="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </SystemColumn>
      <SystemColumn Which="Sender" Behaviour="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </SystemColumn>
      <SystemColumn Which="Originator" Behaviour="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </SystemColumn>
      <SystemColumn Which="Description" Behaviour="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </SystemColumn>
      <SystemColumn Which="WasRejected" Behaviour="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </SystemColumn>
      <Column Name="Raw" DataType="Any" Guid="3673a7ec-bbc3-4dd9-9247-07e3ed2d9d48" IsHeader="true" IsMandatory="false" IsPartOfUniqueKey="false" IsPersistent="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <AccessControlGroupMemberships />
        <AccessControlGroups />
        <Security OverrideEFormPermissions="false">
          <Roles />
        </Security>
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </Column>
      <Column Name="Params" DataType="Any" Guid="99dd6218-8609-4f8b-a708-2707293a9a0e" IsHeader="true" IsMandatory="false" IsPartOfUniqueKey="false" IsPersistent="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <AccessControlGroupMemberships />
        <AccessControlGroups />
        <Security OverrideEFormPermissions="false">
          <Roles />
        </Security>
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </Column>
      <Column Name="Integration Authentication" DataType="String" Guid="59be48c4-7772-450c-a5a9-c70f571a8815" IsHeader="true" IsMandatory="false" IsPartOfUniqueKey="false" IsPersistent="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <AccessControlGroupMemberships />
        <AccessControlGroups />
        <Security OverrideEFormPermissions="false">
          <Roles />
        </Security>
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </Column>
      <Column Name="Integration Workflow" DataType="String" Guid="fedf4a42-746e-441a-8ede-03a15ef57583" IsHeader="true" IsMandatory="false" IsPartOfUniqueKey="false" IsPersistent="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <AccessControlGroupMemberships />
        <AccessControlGroups />
        <Security OverrideEFormPermissions="false">
          <Roles />
        </Security>
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </Column>
      <Column Name="Return Value" DataType="Any" Guid="c9a05cac-ab38-418f-ba6f-122fb33214c3" IsHeader="true" IsMandatory="false" IsPartOfUniqueKey="false" IsPersistent="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <AccessControlGroupMemberships />
        <AccessControlGroups />
        <Security OverrideEFormPermissions="false">
          <Roles />
        </Security>
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </Column>
      <Column Name="Temp" DataType="Any" Guid="e3caa38f-4776-4a59-b40f-fce74fa4c8e2" IsHeader="true" IsMandatory="false" IsPartOfUniqueKey="false" IsPersistent="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <AccessControlGroupMemberships />
        <AccessControlGroups />
        <Security OverrideEFormPermissions="false">
          <Roles />
        </Security>
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </Column>
      <Column Name="Data Needs Processing" DataType="Boolean" Guid="774f2b3f-bfa6-4082-84ba-da907111d99d" IsHeader="true" IsMandatory="false" IsPartOfUniqueKey="false" IsPersistent="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="FALSE" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <AccessControlGroupMemberships />
        <AccessControlGroups />
        <Security OverrideEFormPermissions="false">
          <Roles />
        </Security>
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </Column>
      <Column Name="Data Processed" DataType="Boolean" Guid="21a3c71b-9113-421e-b081-10c939adeed4" IsHeader="true" IsMandatory="false" IsPartOfUniqueKey="false" IsPersistent="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="FALSE" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <AccessControlGroupMemberships />
        <AccessControlGroups />
        <Security OverrideEFormPermissions="false">
          <Roles />
        </Security>
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </Column>
      <Column Name="Created By" DataType="String" Guid="3d831f00-c77f-4aac-8da6-66d1a780251c" IsHeader="true" IsMandatory="false" IsPartOfUniqueKey="false" IsPersistent="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <AccessControlGroupMemberships />
        <AccessControlGroups />
        <Security OverrideEFormPermissions="false">
          <Roles />
        </Security>
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </Column>
      <Column Name="Temp 2" DataType="Any" Guid="50425695-1157-4f56-a5e5-f4849f2cb257" IsHeader="true" IsMandatory="false" IsPartOfUniqueKey="false" IsPersistent="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <AccessControlGroupMemberships />
        <AccessControlGroups />
        <Security OverrideEFormPermissions="false">
          <Roles />
        </Security>
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </Column>
      <Column Name="Civica Integration Settings" DataType="Any" Guid="335fa3e9-1997-49b8-8674-8c95d969c96f" IsHeader="true" IsMandatory="false" IsPartOfUniqueKey="false" IsPersistent="false" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="LET $columns:= &#xA;ARRAY(&#x9;&#xA;  /*Settings*/&#xA;  &quot;Client ID&quot;, &#xA;  &quot;Client Secret&quot;,&#xA;  &quot;API URL&quot;,&#xA;  &quot;Civica Module&quot;,&#xA;  &quot;Integration Alert Recipient&quot;&#xA;);&#xA;&#xA;LET $data := &#xA;DB_LOOKUP/*ALL*/(&#xA;  $columns, &#xA;  &quot;Civica Integration Settings&quot;,&#xA;  &quot;[RecordID] = 1&quot;&#xA;);&#xA;&#xA;RETURN &#xA;&#x9;INDEXES_TO_KEYS($data, $columns)&#xA;" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <AccessControlGroupMemberships />
        <AccessControlGroups />
        <Security OverrideEFormPermissions="false">
          <Roles />
        </Security>
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </Column>
      <Column Name="Source Record" DataType="Number" Guid="82b4a75b-beb5-464b-abeb-2cec7724303b" IsHeader="true" IsMandatory="false" IsPartOfUniqueKey="false" IsPersistent="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <AccessControlGroupMemberships />
        <AccessControlGroups />
        <Security OverrideEFormPermissions="false">
          <Roles />
        </Security>
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format>
          <Number DecimalPlaces="" Prefix="" Suffix="" ThousandsSeparator="false" ScientificNotation="false" />
        </Format>
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </Column>
      <Column Name="Received All Data" DataType="Boolean" Guid="fbc7301b-4fcb-41e9-be63-56d934998873" IsHeader="true" IsMandatory="false" IsPartOfUniqueKey="false" IsPersistent="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="FALSE" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <AccessControlGroupMemberships />
        <AccessControlGroups />
        <Security OverrideEFormPermissions="false">
          <Roles />
        </Security>
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </Column>
      <Column Name="Errors" DataType="String" Guid="8368b5d7-6c5a-4ded-8757-5009cea12658" IsHeader="true" IsMandatory="false" IsPartOfUniqueKey="false" IsPersistent="true" ValidationFormula="" ValidationTags="" Formula="" DefaultValue="" DefaultValueFormula="" DefaultValueFormulaAssignWholeColumn="false" IsEditableInReport="false">
        <AccessControlGroupMemberships />
        <AccessControlGroups />
        <Security OverrideEFormPermissions="false">
          <Roles />
        </Security>
        <IsFullTextIndexed>false</IsFullTextIndexed>
        <Format xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ReportingField xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ProtectionReason xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <EFormRecordPipes />
      </Column>
    </Columns>
    <ReferenceGroups />
    <Kpis />
    <MergeFields />
  </DataDefinition>
  <Views>
    <ViewEntry Name="Default">
      <View BackColor="0,0,0,0">
        <PdfSettings>
          <PageNumberMode>None</PageNumberMode>
          <FooterTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        </PdfSettings>
        <SidebarMode>Hide</SidebarMode>
        <HorizontalAlign>Default</HorizontalAlign>
        <Security>
          <Roles>
            <RoleEntry Use="true">
              <Role>Everyone</Role>
            </RoleEntry>
          </Roles>
        </Security>
        <Sections>
          <Section ColumnCount="1" Margin="36" BlockSpacing="0" PageWidth="1020" PageHeight="1169">
            <Name xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
            <Notes></Notes>
            <Blocks>
              <Block IsReadOnly="false" ID="Block1">
                <Controls>
                  <Title ID="Control5" IsReadOnly="false" LineNumber="1" Left="0" Top="3" Width="31" Height="6" TabIndex="1" Visible="true" ShowBorder="false" PrintBorder="true" ShowWhenPrinting="true">
                    <Text></Text>
                    <UseEFormNameAsText>true</UseEFormNameAsText>
                    <BorderColor>0,0,0,255</BorderColor>
                    <BackColor>0,0,0,0</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>true</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>20</FontSize>
                    <FormulaBindings />
                  </Title>
                </Controls>
                <HeadingText></HeadingText>
                <HeadingHeight>0</HeadingHeight>
                <BodyHeight>12</BodyHeight>
                <IsHeader>false</IsHeader>
                <IsCollapsed>false</IsCollapsed>
                <IsPrintable>true</IsPrintable>
                <EnableScrolling>false</EnableScrolling>
                <BackColor>255,255,255,255</BackColor>
                <HeadingBackColor>64,64,64,255</HeadingBackColor>
                <HeadingTextColor>224,224,224,255</HeadingTextColor>
                <HeadingTextSize>10</HeadingTextSize>
                <HeadingTextAlign>Left</HeadingTextAlign>
                <BorderColor>64,64,64,255</BorderColor>
                <BorderWidth>0</BorderWidth>
                <BorderStyle>Solid</BorderStyle>
                <TabOrderMode>InheritFromView</TabOrderMode>
                <Event xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                <FormulaBindings />
                <Visible>true</Visible>
              </Block>
              <Block IsReadOnly="false" ID="Block2">
                <Controls>
                  <TextBox ID="Control7" IsReadOnly="false" LineNumber="1" Left="0" Top="59" Width="35" Height="24" TabIndex="2" Visible="true" ShowBorder="true" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>224,224,224,255</BorderColor>
                    <ReferencedDataColumn>Raw</ReferencedDataColumn>
                    <TextMode>Guess</TextMode>
                    <PlaceholderText xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <Event xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <BackColor>255,255,255,255</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </TextBox>
                  <TextBox ID="Control8" IsReadOnly="false" LineNumber="1" Left="0" Top="10" Width="35" Height="3" TabIndex="3" Visible="true" ShowBorder="true" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>224,224,224,255</BorderColor>
                    <ReferencedDataColumn>Params</ReferencedDataColumn>
                    <TextMode>SingleLine</TextMode>
                    <PlaceholderText xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <Event xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <BackColor>255,255,255,255</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </TextBox>
                  <TextBox ID="Control9" IsReadOnly="false" LineNumber="1" Left="0" Top="17" Width="35" Height="3" TabIndex="4" Visible="true" ShowBorder="true" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>224,224,224,255</BorderColor>
                    <ReferencedDataColumn>Integration Authentication</ReferencedDataColumn>
                    <TextMode>SingleLine</TextMode>
                    <PlaceholderText xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <Event xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <BackColor>255,255,255,255</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </TextBox>
                  <Label Text="Raw" ID="Control10" IsReadOnly="false" LineNumber="1" Left="0" Top="56" Width="35" Height="3" TabIndex="5" Visible="true" ShowBorder="false" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>0,0,0,255</BorderColor>
                    <BackColor>0,0,0,0</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </Label>
                  <Label Text="Params" ID="Control11" IsReadOnly="false" LineNumber="1" Left="0" Top="7" Width="35" Height="3" TabIndex="6" Visible="true" ShowBorder="false" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>0,0,0,255</BorderColor>
                    <BackColor>0,0,0,0</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </Label>
                  <Label Text="Integration Authentication" ID="Control12" IsReadOnly="false" LineNumber="1" Left="0" Top="14" Width="35" Height="3" TabIndex="7" Visible="true" ShowBorder="false" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>0,0,0,255</BorderColor>
                    <BackColor>0,0,0,0</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </Label>
                  <TextBox ID="Control13" IsReadOnly="false" LineNumber="1" Left="0" Top="24" Width="35" Height="3" TabIndex="8" Visible="true" ShowBorder="true" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>224,224,224,255</BorderColor>
                    <ReferencedDataColumn>Integration Workflow</ReferencedDataColumn>
                    <TextMode>SingleLine</TextMode>
                    <PlaceholderText xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <Event xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <BackColor>255,255,255,255</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </TextBox>
                  <Label Text="Integration Workflow" ID="Control14" IsReadOnly="false" LineNumber="1" Left="0" Top="21" Width="35" Height="3" TabIndex="9" Visible="true" ShowBorder="false" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>0,0,0,255</BorderColor>
                    <BackColor>0,0,0,0</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </Label>
                  <TextBox ID="Control15" IsReadOnly="false" LineNumber="1" Left="0" Top="31" Width="35" Height="3" TabIndex="10" Visible="true" ShowBorder="true" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>224,224,224,255</BorderColor>
                    <ReferencedDataColumn>Return Value</ReferencedDataColumn>
                    <TextMode>SingleLine</TextMode>
                    <PlaceholderText xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <Event xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <BackColor>255,255,255,255</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </TextBox>
                  <Label Text="Return Value" ID="Control16" IsReadOnly="false" LineNumber="1" Left="0" Top="28" Width="35" Height="3" TabIndex="11" Visible="true" ShowBorder="false" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>0,0,0,255</BorderColor>
                    <BackColor>0,0,0,0</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </Label>
                  <Label Text="Data Needs Processing" ID="Control32" IsReadOnly="false" LineNumber="1" Left="0" Top="42" Width="35" Height="3" TabIndex="12" Visible="true" ShowBorder="false" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>0,0,0,255</BorderColor>
                    <BackColor>0,0,0,0</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </Label>
                  <TextBox ID="Control33" IsReadOnly="false" LineNumber="1" Left="0" Top="45" Width="35" Height="3" TabIndex="13" Visible="true" ShowBorder="true" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>224,224,224,255</BorderColor>
                    <ReferencedDataColumn>Data Needs Processing</ReferencedDataColumn>
                    <TextMode>SingleLine</TextMode>
                    <PlaceholderText xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <Event xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <BackColor>255,255,255,255</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </TextBox>
                  <Label Text="Data Processed" ID="Control34" IsReadOnly="false" LineNumber="1" Left="0" Top="49" Width="35" Height="3" TabIndex="14" Visible="true" ShowBorder="false" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>0,0,0,255</BorderColor>
                    <BackColor>0,0,0,0</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </Label>
                  <TextBox ID="Control35" IsReadOnly="false" LineNumber="1" Left="0" Top="52" Width="35" Height="3" TabIndex="15" Visible="true" ShowBorder="true" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>224,224,224,255</BorderColor>
                    <ReferencedDataColumn>Data Processed</ReferencedDataColumn>
                    <TextMode>SingleLine</TextMode>
                    <PlaceholderText xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <Event xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <BackColor>255,255,255,255</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </TextBox>
                  <Label Text="Date Imported" ID="Control38" IsReadOnly="false" LineNumber="1" Left="0" Top="0" Width="35" Height="3" TabIndex="18" Visible="true" ShowBorder="false" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>0,0,0,255</BorderColor>
                    <BackColor>0,0,0,0</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </Label>
                  <TextBox ID="Control39" IsReadOnly="false" LineNumber="1" Left="0" Top="3" Width="35" Height="3" TabIndex="19" Visible="true" ShowBorder="true" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>224,224,224,255</BorderColor>
                    <ReferencedDataColumn>DateCreated</ReferencedDataColumn>
                    <TextMode>SingleLine</TextMode>
                    <PlaceholderText xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <Event xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <BackColor>255,255,255,255</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </TextBox>
                  <Label Text="Received All Data?" ID="Control40" IsReadOnly="false" LineNumber="1" Left="0" Top="35" Width="35" Height="3" TabIndex="20" Visible="true" ShowBorder="false" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>0,0,0,255</BorderColor>
                    <BackColor>0,0,0,0</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </Label>
                  <TextBox ID="Control41" IsReadOnly="false" LineNumber="1" Left="0" Top="38" Width="35" Height="3" TabIndex="21" Visible="true" ShowBorder="true" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>239,239,239,255</BorderColor>
                    <ReferencedDataColumn>Received All Data</ReferencedDataColumn>
                    <TextMode>SingleLine</TextMode>
                    <PlaceholderText xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <Event xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <BackColor>255,255,255,255</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </TextBox>
                  <TextBox ID="Control42" IsReadOnly="false" LineNumber="1" Left="0" Top="87" Width="35" Height="7" TabIndex="22" Visible="true" ShowBorder="true" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>224,224,224,255</BorderColor>
                    <ReferencedDataColumn>Errors</ReferencedDataColumn>
                    <TextMode>Guess</TextMode>
                    <PlaceholderText xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <Event xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <BackColor>255,255,255,255</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </TextBox>
                  <Label Text="Errors" ID="Control43" IsReadOnly="false" LineNumber="1" Left="0" Top="84" Width="35" Height="3" TabIndex="23" Visible="true" ShowBorder="false" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>0,0,0,255</BorderColor>
                    <BackColor>0,0,0,0</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </Label>
                </Controls>
                <ExpanderVisible>No</ExpanderVisible>
                <HeadingText>Raw Data</HeadingText>
                <HeadingHeight>0</HeadingHeight>
                <BodyHeight>97</BodyHeight>
                <IsHeader>false</IsHeader>
                <IsCollapsed>false</IsCollapsed>
                <IsPrintable>false</IsPrintable>
                <EnableScrolling>false</EnableScrolling>
                <BackColor>255,255,255,255</BackColor>
                <HeadingBackColor>255,255,255,255</HeadingBackColor>
                <HeadingTextColor>0,85,122,255</HeadingTextColor>
                <HeadingTextSize>14</HeadingTextSize>
                <HeadingTextAlign>Left</HeadingTextAlign>
                <BorderColor>103,103,103,255</BorderColor>
                <BorderWidth>0</BorderWidth>
                <BorderStyle>Solid</BorderStyle>
                <TabOrderMode>InheritFromView</TabOrderMode>
                <Event xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                <FormulaBindings />
                <Visible>true</Visible>
              </Block>
              <Block IsReadOnly="false" ID="Block4">
                <Controls>
                  <Button ID="Control30" IsReadOnly="false" LineNumber="1" Left="1" Top="2" Width="13" Height="5" TabIndex="2" Visible="true" ShowBorder="true" PrintBorder="true" ShowWhenPrinting="false">
                    <Text>Call Integration</Text>
                    <CausesValidation>false</CausesValidation>
                    <ValidationTag xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <Event>
                      <Tasks>
                        <TriggerCustomEvent>
                          <EventNameTemplate>Initialise Integration</EventNameTemplate>
                          <TraceNameTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                          <TargetRecordsFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                          <EventArgumentsFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                          <ResultIntoColumn xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                          <RetainLastResultOnly>false</RetainLastResultOnly>
                          <CredentialToken xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                          <ShowWarningIfNoMatchingEvent>false</ShowWarningIfNoMatchingEvent>
                          <RunInsideDataLayer>false</RunInsideDataLayer>
                          <Description>Call: Initialise Integration</Description>
                          <RunOnlyWhen xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                        </TriggerCustomEvent>
                      </Tasks>
                    </Event>
                    <CredentialToken xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <TypeOfButton>Custom</TypeOfButton>
                    <BorderColor>180,180,180,255</BorderColor>
                    <BackColor>0,0,0,0</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Center</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>14</FontSize>
                    <FormulaBindings />
                  </Button>
                  <TextBox ID="Control44" IsReadOnly="false" LineNumber="1" Left="1" Top="11" Width="35" Height="7" TabIndex="3" Visible="true" ShowBorder="true" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>224,224,224,255</BorderColor>
                    <ReferencedDataColumn>Temp</ReferencedDataColumn>
                    <TextMode>Guess</TextMode>
                    <PlaceholderText xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <Event xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <BackColor>255,255,255,255</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </TextBox>
                  <Label Text="Temp&#xA;" ID="Control45" IsReadOnly="false" LineNumber="1" Left="1" Top="8" Width="35" Height="3" TabIndex="4" Visible="true" ShowBorder="false" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>0,0,0,255</BorderColor>
                    <BackColor>0,0,0,0</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </Label>
                  <TextBox ID="Control46" IsReadOnly="false" LineNumber="1" Left="1" Top="22" Width="35" Height="7" TabIndex="5" Visible="true" ShowBorder="true" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>224,224,224,255</BorderColor>
                    <ReferencedDataColumn>Temp 2</ReferencedDataColumn>
                    <TextMode>Guess</TextMode>
                    <PlaceholderText xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <Event xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                    <BackColor>255,255,255,255</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </TextBox>
                  <Label Text="Temp 2&#xA;" ID="Control47" IsReadOnly="false" LineNumber="1" Left="1" Top="19" Width="35" Height="3" TabIndex="6" Visible="true" ShowBorder="false" PrintBorder="true" ShowWhenPrinting="true">
                    <BorderColor>0,0,0,255</BorderColor>
                    <BackColor>0,0,0,0</BackColor>
                    <TextColor>0,0,0,255</TextColor>
                    <TextAlign>Left</TextAlign>
                    <FontName>Default</FontName>
                    <Bold>false</Bold>
                    <Italic>false</Italic>
                    <Underline>false</Underline>
                    <FontSize>10</FontSize>
                    <FormulaBindings />
                  </Label>
                </Controls>
                <ExpanderVisible>No</ExpanderVisible>
                <HeadingText>Debug</HeadingText>
                <HeadingHeight>3</HeadingHeight>
                <BodyHeight>30</BodyHeight>
                <IsHeader>false</IsHeader>
                <IsCollapsed>true</IsCollapsed>
                <IsPrintable>true</IsPrintable>
                <EnableScrolling>false</EnableScrolling>
                <BackColor>0,0,0,0</BackColor>
                <HeadingBackColor>255,255,255,255</HeadingBackColor>
                <HeadingTextColor>0,85,122,255</HeadingTextColor>
                <HeadingTextSize>14</HeadingTextSize>
                <HeadingTextAlign>Left</HeadingTextAlign>
                <BorderColor>0,0,0,0</BorderColor>
                <BorderWidth>0</BorderWidth>
                <BorderStyle>Solid</BorderStyle>
                <TabOrderMode>Automatic</TabOrderMode>
                <Event xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
                <FormulaBindings />
                <Visible>true</Visible>
              </Block>
            </Blocks>
          </Section>
        </Sections>
        <EnableSquash>false</EnableSquash>
        <BannerHtmlTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      </View>
    </ViewEntry>
  </Views>
  <Security>
    <PermissionSetName>Custom</PermissionSetName>
    <Roles>
      <RoleEntry Read="true" Write="true" Delete="true" Administrate="true">
        <Role>Administrators</Role>
      </RoleEntry>
      <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
        <Role>Everyone</Role>
      </RoleEntry>
      <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
        <Role>system</Role>
      </RoleEntry>
    </Roles>
    <UseFilterPermissionsForNewRecords>false</UseFilterPermissionsForNewRecords>
    <RecordReadAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
    <RecordWriteAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
    <ComponentAccessControlGroups />
  </Security>
  <SecurityParts>
    <Security>
      <PermissionSetName>Obsolete - Open Set</PermissionSetName>
      <Roles>
        <RoleEntry Read="true" Write="true" Delete="true" Administrate="true">
          <Role>Administrators</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>Everyone</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>system</Role>
        </RoleEntry>
      </Roles>
      <UseFilterPermissionsForNewRecords>false</UseFilterPermissionsForNewRecords>
      <RecordReadAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <RecordWriteAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <ComponentAccessControlGroups />
    </Security>
    <Security>
      <PermissionSetName>Obsolete - Implementation Set</PermissionSetName>
      <Roles>
        <RoleEntry Read="true" Write="true" Delete="true" Administrate="true">
          <Role>Administrators</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>Everyone</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>system</Role>
        </RoleEntry>
      </Roles>
      <UseFilterPermissionsForNewRecords>false</UseFilterPermissionsForNewRecords>
      <RecordReadAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <RecordWriteAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <ComponentAccessControlGroups />
    </Security>
    <Security>
      <PermissionSetName>Custom - Stonnington</PermissionSetName>
      <Roles>
        <RoleEntry Read="true" Write="true" Delete="true" Administrate="true">
          <Role>Administrators</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>Everyone</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>system</Role>
        </RoleEntry>
      </Roles>
      <UseFilterPermissionsForNewRecords>false</UseFilterPermissionsForNewRecords>
      <RecordReadAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <RecordWriteAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <ComponentAccessControlGroups />
    </Security>
    <Security>
      <PermissionSetName>Custom - Ombudsman</PermissionSetName>
      <Roles>
        <RoleEntry Read="true" Write="true" Delete="true" Administrate="true">
          <Role>Administrators</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>Everyone</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>system</Role>
        </RoleEntry>
      </Roles>
      <UseFilterPermissionsForNewRecords>false</UseFilterPermissionsForNewRecords>
      <RecordReadAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <RecordWriteAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <ComponentAccessControlGroups />
    </Security>
    <Security>
      <PermissionSetName>Custom - CompareCoOps</PermissionSetName>
      <Roles>
        <RoleEntry Read="true" Write="true" Delete="true" Administrate="true">
          <Role>Administrators</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>Everyone</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>system</Role>
        </RoleEntry>
      </Roles>
      <UseFilterPermissionsForNewRecords>false</UseFilterPermissionsForNewRecords>
      <RecordReadAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <RecordWriteAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <ComponentAccessControlGroups />
    </Security>
    <Security>
      <PermissionSetName>Custom - CoGD</PermissionSetName>
      <Roles>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>Everyone</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="true" Administrate="true">
          <Role>Administrators</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>system</Role>
        </RoleEntry>
      </Roles>
      <UseFilterPermissionsForNewRecords>false</UseFilterPermissionsForNewRecords>
      <RecordReadAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <RecordWriteAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <ComponentAccessControlGroups />
    </Security>
    <Security>
      <PermissionSetName>Custom - Cenitex</PermissionSetName>
      <Roles>
        <RoleEntry Read="true" Write="true" Delete="true" Administrate="true">
          <Role>Administrators</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>Everyone</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>system</Role>
        </RoleEntry>
      </Roles>
      <UseFilterPermissionsForNewRecords>false</UseFilterPermissionsForNewRecords>
      <RecordReadAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <RecordWriteAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <ComponentAccessControlGroups />
    </Security>
    <Security>
      <PermissionSetName>Open Access</PermissionSetName>
      <Roles>
        <RoleEntry Read="true" Write="true" Delete="true" Administrate="true">
          <Role>Administrators</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>Everyone</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>system</Role>
        </RoleEntry>
      </Roles>
      <UseFilterPermissionsForNewRecords>false</UseFilterPermissionsForNewRecords>
      <RecordReadAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <RecordWriteAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <ComponentAccessControlGroups />
    </Security>
    <Security>
      <PermissionSetName>Custom - Boroondara</PermissionSetName>
      <Roles>
        <RoleEntry Read="true" Write="true" Delete="true" Administrate="true">
          <Role>Administrators</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>Everyone</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>system</Role>
        </RoleEntry>
      </Roles>
      <UseFilterPermissionsForNewRecords>false</UseFilterPermissionsForNewRecords>
      <RecordReadAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <RecordWriteAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <ComponentAccessControlGroups />
    </Security>
    <Security>
      <PermissionSetName>Custom</PermissionSetName>
      <Roles>
        <RoleEntry Read="true" Write="true" Delete="true" Administrate="true">
          <Role>Administrators</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>Everyone</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>system</Role>
        </RoleEntry>
      </Roles>
      <UseFilterPermissionsForNewRecords>false</UseFilterPermissionsForNewRecords>
      <RecordReadAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <RecordWriteAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <ComponentAccessControlGroups />
    </Security>
    <Security>
      <PermissionSetName>Department Level Access</PermissionSetName>
      <Roles>
        <RoleEntry Read="true" Write="true" Delete="true" Administrate="true">
          <Role>Administrators</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>Everyone</Role>
        </RoleEntry>
        <RoleEntry Read="true" Write="true" Delete="false" Administrate="false">
          <Role>system</Role>
        </RoleEntry>
      </Roles>
      <UseFilterPermissionsForNewRecords>false</UseFilterPermissionsForNewRecords>
      <RecordReadAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <RecordWriteAccessFilter xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <ComponentAccessControlGroups />
    </Security>
  </SecurityParts>
  <Categories>
    <CategoryRef>Integrations</CategoryRef>
  </Categories>
  <Workflow>
    <EnableAutomatedWorkflow>false</EnableAutomatedWorkflow>
    <AllowManualOverride>true</AllowManualOverride>
    <PromptUserOnWorkflowChange>false</PromptUserOnWorkflowChange>
    <States>
      <State Name="Start" Left="100" Top="100">
        <Transitions />
        <NotificationTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <SendNotification>false</SendNotification>
        <ForceAssigneeTo xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      </State>
      <State Name="Closed" Left="100" Top="200">
        <Transitions />
        <NotificationTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <SendNotification>false</SendNotification>
        <ForceAssigneeTo xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      </State>
    </States>
  </Workflow>
  <Settings>
    <DefaultView>Default</DefaultView>
    <NotifyOnSave>Never</NotifyOnSave>
    <DefaultToNotifyOnSave>false</DefaultToNotifyOnSave>
    <NotifyOnSaveTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
    <NotifyOnCreate>false</NotifyOnCreate>
    <NotifyOnCreateRecordTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
    <IncludeRenderedViewInCreateRecordNotification>false</IncludeRenderedViewInCreateRecordNotification>
    <NotifyOnWorkflowChange>false</NotifyOnWorkflowChange>
    <NotifyOnWorkflowChangeTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
    <NotifyOnClosed>false</NotifyOnClosed>
    <NotifyOnClosedTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
    <AllowUserToPreviewNotifications>false</AllowUserToPreviewNotifications>
    <DefaultUserToPreviewNotifications>false</DefaultUserToPreviewNotifications>
    <DeleteWithParent>true</DeleteWithParent>
    <EnableManualLinkedEFormRecordsManagement>false</EnableManualLinkedEFormRecordsManagement>
    <IsQuickSearchable>true</IsQuickSearchable>
    <AssignNewRecordsToCurrentUser>false</AssignNewRecordsToCurrentUser>
    <EnableDuplicatingRecords>true</EnableDuplicatingRecords>
    <EnableDeleteFromTabularView>false</EnableDeleteFromTabularView>
    <EnableAddFromTabularView>true</EnableAddFromTabularView>
    <PromptUserBeforeNavigatingAway>true</PromptUserBeforeNavigatingAway>
  </Settings>
  <Attachments>
    <Folders />
  </Attachments>
  <Dependants>
    <Selectors />
  </Dependants>
  <Credentials>
    <Credentials>
      <Credential>
        <Username>system</Username>
        <Purpose>Get data from CIVICA Integration Settings</Purpose>
        <IsVerified>false</IsVerified>
        <Token>560e8d44-d463-498b-9199-e44ec7507279</Token>
      </Credential>
    </Credentials>
  </Credentials>
  <CustomEvents>
    <Event>
      <Name>Contract Spend</Name>
      <Guid>0d78c506-f49f-4af2-8913-71660490d558</Guid>
      <Description>Get spend data from CIVICA using /financialdetails endpoint</Description>
      <Tasks>
        <TriggerCustomEvent>
          <EventNameTemplate>Contract Spend - Get All Data</EventNameTemplate>
          <TraceNameTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <TargetRecordsFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <EventArgumentsFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <ResultIntoColumn xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <RetainLastResultOnly>false</RetainLastResultOnly>
          <CredentialToken xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <ShowWarningIfNoMatchingEvent>false</ShowWarningIfNoMatchingEvent>
          <RunInsideDataLayer>false</RunInsideDataLayer>
          <Description>Call: Contract Spend - Get All Data</Description>
          <RunOnlyWhen>
            <GroupingExpression Operator="And">
              <Children>
                <CriterionExpression>
                  <Criterion>
                    <FormulaCriterion>
                      <Formula>[Received All Data] &lt;&gt; TRUE</Formula>
                    </FormulaCriterion>
                  </Criterion>
                </CriterionExpression>
              </Children>
            </GroupingExpression>
          </RunOnlyWhen>
        </TriggerCustomEvent>
        <ChangeFieldValues>
          <EFormRef xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <RecordIDFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <FieldEntries>
            <FieldEntry>
              <ColumnName>Temp 2</ColumnName>
              <AssignWholeColumn>false</AssignWholeColumn>
              <LineNumberFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
              <Formula>LET $allContracts := ARRAY_DISTINCT(ARRAY_SELECT([Temp], $(i, item) HASH_GET($item, "contractId")));
LET $existingContracts := ARRAY_TRANSPOSE(ARRAY_WHERE(DB_REPORT(ARRAY("[Contract Number]", "[RecordID]", "[Expenditure to Date]", "[Budget]"), "Contract", "[LineNumber] FAST_EQUAL_TO 1"), $(i , item) ARRAY_INDEXOF($allContracts, ARRAY_FIRST($item)) &gt; 0));

LET $hashedData := HASH(
  						"All Contracts", 				$allContracts,
		 				"Existing Contract Numbers", 	ARRAY_INDEX($existingContracts, 1),
		 				"Existing Contract RecordIDs", 	ARRAY_INDEX($existingContracts, 2),
		 				"Existing Expenditure to Date", ARRAY_INDEX($existingContracts, 3),
		 				"Existing Budget", 				ARRAY_INDEX($existingContracts, 4)
	 				);

RETURN $hashedData</Formula>
            </FieldEntry>
            <FieldEntry>
              <ColumnName>Temp</ColumnName>
              <AssignWholeColumn>false</AssignWholeColumn>
              <LineNumberFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
              <Formula>//retrieve details of contracts that already exist in the system
LET $existingContractNumbers := 	HASH_GET([Temp 2], "Existing Contract Numbers");
LET $existingContractRecordIDs := 	HASH_GET([Temp 2], "Existing Contract RecordIDs");
LET $existingExpenditureToDate := 	HASH_GET([Temp 2], "Existing Expenditure to Date");
LET $existingBudget :=				HASH_GET([Temp 2], "Existing Budget");

//get contracts to update
LET $dataToUpdate := ARRAY_WHERE([Temp], $(i, item) ARRAY_INDEXOF($existingContractNumbers, HASH_GET($item, "contractId")) &gt; 0);

//append the recorid of existing contract into the hash of data
LET $data := ARRAY_SELECT(
  				$dataToUpdate, $(u, update) 
				LET $recordID := ARRAY_INDEX($existingContractRecordIDs, ARRAY_INDEXOF($existingContractNumbers, HASH_GET($update, "contractId")));
				RETURN HASH_MERGE(HASH("recordId", $recordID), $update)
			);

//grouping data based on unique identifier of form e.g. contract number of contract
LET $grouped := ARRAY_TO_HASH_GROUPED(
					$data, 
					$(k, key) HASH_GET($key, "contractId"),
					$(v, value) $value
				);
	
//get list of unique identifiers e.g. list of contract numbers
LET $keys := HASH_KEYS($grouped);

//for each line of raw data, only get data from relevant columns then sort by a specific field
LET $data := ARRAY_SELECT(
				$keys, $(k, key) 
				LET $contractData := HASH_GET($grouped, $key);
				LET $sortedContract := ARRAY_SORT($contractData, $(item) HASH_GET($item, "contractId"));
				RETURN
					ARRAY_SELECT(
						$sortedContract, $(c, contract) 
						HASH(
							"RecordID",						HASH_GET($contract, "recordId"),
							"Contract Number", 				HASH_GET($contract, "contractId"),
							//"Financial Year",				HASH_GET($contract, "financialYear"),
							"Expenditure to Date",			HASH_GET($contract, "actualValue"),
							//"On Cost Value", 				HASH_GET($contract, "oncostValue"),
							"Budget",						HASH_GET($contract, "commitmentValue")
						)
					)
				);


//get totals
LET $requiredData :=
  					ARRAY_SELECT(
						$data, $(d, data)
					  	
					  	//get existing data
					  	LET $thisContractNumber := HASH_GET(ARRAY_FIRST($data), "Contract Number");
					  	LET $currentDataIndex := ARRAY_INDEXOF($existingContractNumbers, $thisContractNumber);
					  	LET $currentExpenditureToDate := ARRAY_INDEX($existingExpenditureToDate, $currentDataIndex);
					  	LET $currentBudget := ARRAY_INDEX($existingBudget, $currentDataIndex);
						
						RETURN
						HASH(
							"RecordID",				HASH_GET(ARRAY_FIRST($data), "RecordID"),
							"Contract Number", 		$thisContractNumber,
							"Expenditure to Date", 	SUM($currentExpenditureToDate, ARRAY_SELECT($data, $(i, item) HASH_GET($item, "Expenditure to Date"))),
							"Budget", 				SUM($currentBudget, ARRAY_SELECT($data, $(i, item) HASH_GET($item, "Budget")))
						)
  					);
						
RETURN $requiredData
</Formula>
            </FieldEntry>
          </FieldEntries>
          <UpdateRecordFormulas>false</UpdateRecordFormulas>
          <Description>Get RecordIDs of existing contract, transform financial summary data for updates</Description>
          <RunOnlyWhen>
            <GroupingExpression Operator="And">
              <Children>
                <CriterionExpression>
                  <Criterion>
                    <FormulaCriterion>
                      <Formula>AND([Received All Data] == TRUE, HASH_GET(JSONDECODE([Raw]), "status") = "Success")</Formula>
                    </FormulaCriterion>
                  </Criterion>
                </CriterionExpression>
              </Children>
            </GroupingExpression>
          </RunOnlyWhen>
        </ChangeFieldValues>
        <FormulaDrivenChangeFieldValues>
          <TargetRecordsFormula>LET $eFormToUpdate := "Contract";
RETURN ARRAY_SELECT([Temp], $(i, item) ARRAY($eFormToUpdate, ARRAY_FIRST(HASH_GET($item, "RecordID"))))</TargetRecordsFormula>
          <FieldValuesFormula>ARRAY_INDEX([Temp], $count)</FieldValuesFormula>
          <UpdateRecordFormulas>false</UpdateRecordFormulas>
          <Description>Update existing contracts with new data</Description>
          <RunOnlyWhen>
            <GroupingExpression Operator="And">
              <Children>
                <CriterionExpression>
                  <Criterion>
                    <FormulaCriterion>
                      <Formula>AND([Received All Data] = TRUE, HASH_GET(JSONDECODE([Raw]), "status") = "Success")</Formula>
                    </FormulaCriterion>
                  </Criterion>
                </CriterionExpression>
              </Children>
            </GroupingExpression>
          </RunOnlyWhen>
        </FormulaDrivenChangeFieldValues>
        <ChangeFieldValues>
          <EFormRef xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <RecordIDFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <FieldEntries>
            <FieldEntry>
              <ColumnName>Data Processed</ColumnName>
              <AssignWholeColumn>false</AssignWholeColumn>
              <LineNumberFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
              <Formula>TRUE</Formula>
            </FieldEntry>
            <FieldEntry>
              <ColumnName>Data Needs Processing</ColumnName>
              <AssignWholeColumn>false</AssignWholeColumn>
              <LineNumberFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
              <Formula>FALSE</Formula>
            </FieldEntry>
            <FieldEntry>
              <ColumnName>Raw</ColumnName>
              <AssignWholeColumn>false</AssignWholeColumn>
              <LineNumberFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
              <Formula>//all contracts from raw data
LET $allContracts := HASH_GET([Temp 2], "All Contracts");'
LET $existingContractNumbers := HASH_GET([Temp 2], "Existing Contract Numbers");

//contracts from raw data that exist in this system
LET $contractsToUpdate := ARRAY_SELECT([Temp], $(i, item) ARRAY_FIRST(HASH_GET($item, "Contract Number")));

//contracts that exist in the system and were updated
LET $contractData := DB_REPORT(ARRAY("[Contract Number]", "[DateLastUpdated]", "[Sender]"), "Contract", "[LineNumber] FAST_EQUAL_TO 1");
LET $filteredData := 
  ARRAY_WHERE($contractData, $(i, item) 
	  AND(
		  ARRAY_INDEXOF($contractsToUpdate, ARRAY_FIRST($item)) &gt; 0,
		  ARRAY_INDEX($item, 2) &gt;= TODAY(),
		  ARRAY_LAST($item) = ROLE("system")
	  )
  );

LET $contractsUpdated := ARRAY_SELECT($filteredData, $(d, data) ARRAY_FIRST($data));

//contracts that exist in the system and were expected to be updated but were not
LET $contractsNotUpdated := ARRAY_WHERE($contractsToUpdate, $(i, item) ARRAY_INDEXOF($contractsUpdated, $item) &lt; 0);


RETURN 
	"SUMMARY OF PROCESSED DATA" &amp; NEWLINE() &amp; NEWLINE() &amp;
	"Source record: " &amp; "Civica Integration Data #" &amp; [Source Record] &amp; NEWLINE() &amp;
	"Date contracts updated: " &amp; DATEFORMAT(NOW(), "dd-MMM-yyyy hh:mm tt") &amp; NEWLINE() &amp; NEWLINE() &amp;

	"All contracts in the raw data (contract number): " &amp; $allContracts &amp; NEWLINE() &amp;
	"Number of contracts in the raw data: " &amp; ARRAY_LENGTH($allContracts) &amp; NEWLINE() &amp; NEWLINE() &amp;

	"Contracts from raw data that exist in this system: " &amp; $existingContractNumbers &amp; NEWLINE() &amp;
	"Number of existing contracts from raw data: " &amp; ARRAY_LENGTH($existingContractNumbers) &amp; NEWLINE() &amp; NEWLINE() &amp;

	"Existing contracts updated (contract number): " &amp; $contractsUpdated &amp; NEWLINE() &amp;
	"Number of existing contracts that were updated: " &amp; ARRAY_LENGTH($contractsUpdated) &amp; NEWLINE() &amp; NEWLINE() &amp;

	"Existing contracts not updated (contract number): " &amp; $contractsNotUpdated &amp; NEWLINE() &amp;
	"Number of existing contracts that were not updated: " &amp; ARRAY_LENGTH($contractsNotUpdated) &amp; NEWLINE()
</Formula>
            </FieldEntry>
            <FieldEntry>
              <ColumnName>Temp</ColumnName>
              <AssignWholeColumn>false</AssignWholeColumn>
              <LineNumberFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
              <Formula>NULL</Formula>
            </FieldEntry>
            <FieldEntry>
              <ColumnName>Temp 2</ColumnName>
              <AssignWholeColumn>false</AssignWholeColumn>
              <LineNumberFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
              <Formula>NULL</Formula>
            </FieldEntry>
          </FieldEntries>
          <UpdateRecordFormulas>false</UpdateRecordFormulas>
          <Description>Set Data Processed = TRUE, Data Needs Processing False, Clears temp fields, Updates Raw with summary of data</Description>
          <RunOnlyWhen>
            <GroupingExpression Operator="And">
              <Children>
                <CriterionExpression>
                  <Criterion>
                    <FormulaCriterion>
                      <Formula>AND([Received All Data] = TRUE, HASH_GET(JSONDECODE([Raw]), "status") = "Success")</Formula>
                    </FormulaCriterion>
                  </Criterion>
                </CriterionExpression>
              </Children>
            </GroupingExpression>
          </RunOnlyWhen>
        </ChangeFieldValues>
      </Tasks>
    </Event>
    <Event>
      <Name>Contract Spend - Get All Data</Name>
      <Guid>f9267a2a-fc91-41ef-8b39-e591ad199423</Guid>
      <Description>Call /financialdetails endpoint and collate incoming data</Description>
      <Tasks>
        <HttpRequest>
          <UrlTemplate>{LET $dataLength := ARRAY_LENGTH([Temp]);

//build filter
LET $filter := "$filter=transactionDate gt " &amp; DATEFORMAT(DATEADD("day", -1, TODAY()), "yyyy-MM-dd'T'HH:mm:ss'Z'");

//pagination
LET $batchSize := 500;
LET $startFilter := "$top=" &amp; $batchSize;

LET $iterate := IFERROR(ARRAY_LENGTH([Temp]) / $batchSize, 0);
LET $skipFilter := "$skip=" &amp; $iterate * $batchSize;

LET $paginationFilter := IF($dataLength &lt;= 0, $startFilter, $pagination &amp; $startFilter &amp; "&amp;" &amp; $skipFilter);

//build request URL
RETURN HASH_GET([Civica Integration Settings], "API URL") &amp; "/" &amp; HASH_GET([Civica Integration Settings], "Civica Module") &amp; "/financialdetails" &amp; "?" &amp; $filter &amp; "&amp;" &amp; $paginationFilter}</UrlTemplate>
          <MethodTemplate>GET</MethodTemplate>
          <BodyTemplate></BodyTemplate>
          <HeadersFormula>HASH("Authorization", "Bearer " &amp; [Integration Authentication])</HeadersFormula>
          <AuthType>Anonymous</AuthType>
          <AuthUsernameTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <AuthPasswordTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <ResultContentField>Raw</ResultContentField>
          <ResultStatusField>Return Value</ResultStatusField>
          <ResponseHeadersField>Params</ResponseHeadersField>
          <TimeoutSeconds>30</TimeoutSeconds>
          <Accept xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <ContentType>application/json</ContentType>
          <UserAgent xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <Attachments />
          <IsMultipart>false</IsMultipart>
          <BodyPartName xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <FilePartNameTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <Description>Trigger /financialdetails endpoint</Description>
          <RunOnlyWhen>
            <GroupingExpression Operator="And">
              <Children>
                <CriterionExpression>
                  <Criterion>
                    <FormulaCriterion>
                      <Formula>[Received All Data] &lt;&gt; TRUE</Formula>
                    </FormulaCriterion>
                  </Criterion>
                </CriterionExpression>
              </Children>
            </GroupingExpression>
          </RunOnlyWhen>
        </HttpRequest>
        <ChangeFieldValues>
          <EFormRef xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <RecordIDFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <FieldEntries>
            <FieldEntry>
              <ColumnName>Temp</ColumnName>
              <AssignWholeColumn>false</AssignWholeColumn>
              <LineNumberFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
              <Formula>LET $batchData := HASH_GET(JSONDECODE([Raw]), "result");

RETURN
IF(
  	ARRAY_LENGTH([Temp]) &gt; 0, 
  	ARRAY_CONCAT([Temp], $batchData),
  	$batchData
)</Formula>
            </FieldEntry>
            <FieldEntry>
              <ColumnName>Received All Data</ColumnName>
              <AssignWholeColumn>false</AssignWholeColumn>
              <LineNumberFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
              <Formula>HASH_GET(JSONDECODE([Raw]), "resultCount") &lt;= 0</Formula>
            </FieldEntry>
          </FieldEntries>
          <UpdateRecordFormulas>false</UpdateRecordFormulas>
          <Description>Collate all incoming data together</Description>
          <RunOnlyWhen>
            <GroupingExpression Operator="And">
              <Children>
                <CriterionExpression>
                  <Criterion>
                    <FormulaCriterion>
                      <Formula>[Received All Data] &lt;&gt; TRUE</Formula>
                    </FormulaCriterion>
                  </Criterion>
                </CriterionExpression>
              </Children>
            </GroupingExpression>
          </RunOnlyWhen>
        </ChangeFieldValues>
        <TriggerCustomEvent>
          <EventNameTemplate>Contract Spend - Get All Data</EventNameTemplate>
          <TraceNameTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <TargetRecordsFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <EventArgumentsFormula></EventArgumentsFormula>
          <ResultIntoColumn xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <RetainLastResultOnly>false</RetainLastResultOnly>
          <CredentialToken xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <ShowWarningIfNoMatchingEvent>false</ShowWarningIfNoMatchingEvent>
          <RunInsideDataLayer>false</RunInsideDataLayer>
          <Description>Call: Contract Spend (calling itself until all data is received)</Description>
          <RunOnlyWhen>
            <GroupingExpression Operator="And">
              <Children>
                <CriterionExpression>
                  <Criterion>
                    <FormulaCriterion>
                      <Formula>AND(
  [Received All Data] &lt;&gt; TRUE, HASH_GET(JSONDECODE([Raw]), "resultCount") &gt; 0
)</Formula>
                    </FormulaCriterion>
                  </Criterion>
                </CriterionExpression>
              </Children>
            </GroupingExpression>
          </RunOnlyWhen>
        </TriggerCustomEvent>
      </Tasks>
    </Event>
    <Event>
      <Name>Initialise Integration</Name>
      <Guid>5ee1e646-1dd8-47ec-b058-0f7ca5c6089b</Guid>
      <Description>DO NOT EDIT -- authenticates connection and triggers integration workflow</Description>
      <Tasks>
        <HttpRequest>
          <UrlTemplate>{HASH_GET([Civica Integration Settings], "API URL")  &amp; "/" &amp; HASH_GET([Civica Integration Settings], "Civica Module") &amp; "/token"}</UrlTemplate>
          <MethodTemplate>POST</MethodTemplate>
          <BodyTemplate>{LET $clientID := HASH_GET([Civica Integration Settings], "Client ID");
LET $clientSecret := HASH_GET([Civica Integration Settings], "Client Secret");
RETURN JSONENCODE(HASH("clientID", $clientID, "clientSecret", $clientSecret))}</BodyTemplate>
          <HeadersFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <AuthType>Anonymous</AuthType>
          <AuthUsernameTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <AuthPasswordTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <ResultContentField>Raw</ResultContentField>
          <ResultStatusField>Return Value</ResultStatusField>
          <ResponseHeadersField>Params</ResponseHeadersField>
          <TimeoutSeconds>30</TimeoutSeconds>
          <Accept xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <ContentType>application/json</ContentType>
          <UserAgent xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <Attachments />
          <IsMultipart>false</IsMultipart>
          <BodyPartName xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <FilePartNameTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <Description>Get Auth Token </Description>
          <RunOnlyWhen xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        </HttpRequest>
        <ChangeFieldValues>
          <EFormRef xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <RecordIDFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <FieldEntries>
            <FieldEntry>
              <ColumnName>Integration Authentication</ColumnName>
              <AssignWholeColumn>false</AssignWholeColumn>
              <LineNumberFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
              <Formula>HASH_GET(HASH_GET(JSONDECODE([Raw]), "result"), "accessToken")</Formula>
            </FieldEntry>
          </FieldEntries>
          <UpdateRecordFormulas>false</UpdateRecordFormulas>
          <Description>Update integration authentication with access token</Description>
          <RunOnlyWhen xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        </ChangeFieldValues>
        <SetReturnValue>
          <ResultValueFormula>HASH(
  "statusCode", [Return Value]
)</ResultValueFormula>
          <Description>Set return status code</Description>
          <RunOnlyWhen>
            <GroupingExpression Operator="And">
              <Children />
            </GroupingExpression>
          </RunOnlyWhen>
        </SetReturnValue>
        <ChangeFieldValues>
          <EFormRef xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <RecordIDFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <FieldEntries>
            <FieldEntry>
              <ColumnName>Data Processed</ColumnName>
              <AssignWholeColumn>false</AssignWholeColumn>
              <LineNumberFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
              <Formula>FALSE</Formula>
            </FieldEntry>
            <FieldEntry>
              <ColumnName>Errors</ColumnName>
              <AssignWholeColumn>false</AssignWholeColumn>
              <LineNumberFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
              <Formula>CONCATENATE("Civica integration worflow - " &amp; [Integration Workflow] &amp; " triggered on " &amp; [DateCreated]  &amp; " failed to authenticate. The response code was " &amp; [Return Value] &amp; ".")</Formula>
            </FieldEntry>
          </FieldEntries>
          <UpdateRecordFormulas>false</UpdateRecordFormulas>
          <Description>If return status is not 2XX, set [Data Processed] = FALSE and take note of error. </Description>
          <RunOnlyWhen>
            <GroupingExpression Operator="And">
              <Children>
                <CriterionExpression>
                  <Criterion>
                    <FormulaCriterion>
                      <Formula>[Return Value] &lt;&gt; 200</Formula>
                    </FormulaCriterion>
                  </Criterion>
                </CriterionExpression>
              </Children>
            </GroupingExpression>
          </RunOnlyWhen>
        </ChangeFieldValues>
        <TriggerCustomEvent>
          <EventNameTemplate>{[Integration Workflow]}</EventNameTemplate>
          <TraceNameTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <TargetRecordsFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <EventArgumentsFormula xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <ResultIntoColumn xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <RetainLastResultOnly>false</RetainLastResultOnly>
          <CredentialToken>560e8d44-d463-498b-9199-e44ec7507279</CredentialToken>
          <ShowWarningIfNoMatchingEvent>false</ShowWarningIfNoMatchingEvent>
          <RunInsideDataLayer>false</RunInsideDataLayer>
          <Description>Trigger Integration Workflow (if return status is 2XX)</Description>
          <RunOnlyWhen>
            <GroupingExpression Operator="And">
              <Children>
                <CriterionExpression>
                  <Criterion>
                    <FormulaCriterion>
                      <Formula>[Return Value] == 200</Formula>
                    </FormulaCriterion>
                  </Criterion>
                </CriterionExpression>
              </Children>
            </GroupingExpression>
          </RunOnlyWhen>
        </TriggerCustomEvent>
        <Save>
          <WorkflowNotesTemplate xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <DisplaySuccessMessage>false</DisplaySuccessMessage>
          <Description xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <RunOnlyWhen xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        </Save>
      </Tasks>
    </Event>
  </CustomEvents>
</EForm>